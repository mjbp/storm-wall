/**
 * @name storm-wall: Interactive animating content wall
 * @version 0.3.0: Wed, 25 Jan 2017 15:15:05 GMT
 * @author stormid
 * @license MIT
 */
!function t(e,n,i){function o(r,l){if(!n[r]){if(!e[r]){var a="function"==typeof require&&require;if(!l&&a)return a(r,!0);if(s)return s(r,!0);var u=new Error("Cannot find module '"+r+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[r]={exports:{}};e[r][0].call(c.exports,function(t){var n=e[r][1][t];return o(n?n:t)},c,c.exports,t,e,n,i)}return n[r].exports}for(var s="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(t,e,n){var i=t("./_root"),o=i.Symbol;e.exports=o},{"./_root":6}],2:[function(t,e,n){function i(t){return null==t?void 0===t?a:l:u&&u in Object(t)?s(t):r(t)}var o=t("./_Symbol"),s=t("./_getRawTag"),r=t("./_objectToString"),l="[object Null]",a="[object Undefined]",u=o?o.toStringTag:void 0;e.exports=i},{"./_Symbol":1,"./_getRawTag":4,"./_objectToString":5}],3:[function(t,e,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(t,e,n){function i(t){var e=r.call(t,a),n=t[a];try{t[a]=void 0;var i=!0}catch(t){}var o=l.call(t);return i&&(e?t[a]=n:delete t[a]),o}var o=t("./_Symbol"),s=Object.prototype,r=s.hasOwnProperty,l=s.toString,a=o?o.toStringTag:void 0;e.exports=i},{"./_Symbol":1}],5:[function(t,e,n){function i(t){return s.call(t)}var o=Object.prototype,s=o.toString;e.exports=i},{}],6:[function(t,e,n){var i=t("./_freeGlobal"),o="object"==typeof self&&self&&self.Object===Object&&self,s=i||o||Function("return this")();e.exports=s},{"./_freeGlobal":3}],7:[function(t,e,n){function i(t,e,n){function i(e){var n=b,i=x;return b=x=void 0,O=e,y=t.apply(i,n)}function c(t){return O=t,E=setTimeout(h,e),j?i(t):y}function d(t){var n=t-T,i=t-O,o=e-n;return S?u(o,w-i):o}function f(t){var n=t-T,i=t-O;return void 0===T||n>=e||n<0||S&&i>=w}function h(){var t=s();return f(t)?p(t):void(E=setTimeout(h,d(t)))}function p(t){return E=void 0,I&&b?i(t):(b=x=void 0,y)}function g(){void 0!==E&&clearTimeout(E),O=0,b=T=x=E=void 0}function m(){return void 0===E?y:p(s())}function v(){var t=s(),n=f(t);if(b=arguments,x=this,T=t,n){if(void 0===E)return c(T);if(S)return E=setTimeout(h,e),i(T)}return void 0===E&&(E=setTimeout(h,e)),y}var b,x,w,y,E,T,O=0,j=!1,S=!1,I=!0;if("function"!=typeof t)throw new TypeError(l);return e=r(e)||0,o(n)&&(j=!!n.leading,S="maxWait"in n,w=S?a(r(n.maxWait)||0,e):w,I="trailing"in n?!!n.trailing:I),v.cancel=g,v.flush=m,v}var o=t("./isObject"),s=t("./now"),r=t("./toNumber"),l="Expected a function",a=Math.max,u=Math.min;e.exports=i},{"./isObject":8,"./now":11,"./toNumber":13}],8:[function(t,e,n){function i(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}e.exports=i},{}],9:[function(t,e,n){function i(t){return null!=t&&"object"==typeof t}e.exports=i},{}],10:[function(t,e,n){function i(t){return"symbol"==typeof t||s(t)&&o(t)==r}var o=t("./_baseGetTag"),s=t("./isObjectLike"),r="[object Symbol]";e.exports=i},{"./_baseGetTag":2,"./isObjectLike":9}],11:[function(t,e,n){var i=t("./_root"),o=function(){return i.Date.now()};e.exports=o},{"./_root":6}],12:[function(t,e,n){function i(t,e,n){var i=!0,l=!0;if("function"!=typeof t)throw new TypeError(r);return s(n)&&(i="leading"in n?!!n.leading:i,l="trailing"in n?!!n.trailing:l),o(t,e,{leading:i,maxWait:e,trailing:l})}var o=t("./debounce"),s=t("./isObject"),r="Expected a function";e.exports=i},{"./debounce":7,"./isObject":8}],13:[function(t,e,n){function i(t){if("number"==typeof t)return t;if(s(t))return r;if(o(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(l,"");var n=u.test(t);return n||c.test(t)?d(t.slice(2),n?2:8):a.test(t)?r:+t}var o=t("./isObject"),s=t("./isSymbol"),r=NaN,l=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt;e.exports=i},{"./isObject":8,"./isSymbol":10}],14:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t,e,n,i){return t/=i/2,t<1?n/2*t*t+e:(t--,-n/2*(t*(t-2)-1)+e)}},{}],15:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t,e){var n=t.getBoundingClientRect();return n.right>=e.l&&n.bottom>=e.t&&n.left<=e.r&&n.top<=e.b}},{}],16:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var o=t("./easeInOutQuad"),s=i(o),r=function(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t},l=function(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop};n.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments[2],i=l(),o=t-i,a=0,u=20,c=function t(){a+=u;var l=(0,s.default)(a,i,o,e);r(l),a<e?window.requestAnimationFrame(t):n&&"function"==typeof n&&n()};c()}},{"./easeInOutQuad":14}],17:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var o=t("lodash/throttle"),s=i(o),r=t("./libs/scrollTo"),l=i(r),a=t("./libs/inView"),u=i(a),c=t("./libs/easeInOutQuad"),d=i(c),f={classNames:{ready:".js-wall--is-ready",trigger:".js-wall-trigger",item:".js-wall-item",content:".js-wall-child",panel:".js-wall-panel",panelInner:".js-wall-panel-inner",open:".js-wall--is-open",closeButton:".js-wall-close",nextButton:".js-wall-next",previousButton:".js-wall-previous"}},h={ERRORS:{ROOT:"Wall cannot be initialised, no trigger elements found",ITEM:"Wall item cannot be found",TRIGGER:"Wall trigger cannot be found"},KEYCODES:[13,32],EVENTS:["click","keydown"]},p={init:function(){return this.openIndex=!1,this.initThrottled(),this.initItems(),this.initTriggers(),this.initPanel(),this.initButtons(),window.addEventListener("resize",this.throttledResize.bind(this)),setTimeout(this.equalHeight.bind(this),100),this.node.classList.add(this.settings.classNames.ready.substr(1)),this},initThrottled:function(){var t=this;this.throttledResize=(0,s.default)(function(){t.equalHeight(t.setPanelTop.bind(t))},60),this.throttledChange=(0,s.default)(this.change,100),this.throttledPrevious=(0,s.default)(this.previous,100),this.throttledNext=(0,s.default)(this.next,100)},initTriggers:function(){var t=this;this.items.forEach(function(e,n){var i=e.node.querySelector(t.settings.classNames.trigger);if(!i)throw new Error(h.ERRORS.TRIGGER);h.EVENTS.forEach(function(e){i.addEventListener(e,function(e){e.keyCode&&!~h.KEYCODES.indexOf(e.keyCode)||(t.throttledChange(n),e.preventDefault())})})})},initPanel:function(){var t=function(t,e,n){var i=document.createElement(t);i.className=e;for(var o in n)n.hasOwnProperty(o)&&i.setAttribute(o,n[o]);return i},e=t(this.items[0].node.tagName.toLowerCase(),this.settings.classNames.panel.substr(1),{"aria-hidden":!0});return this.panelInner=t("div",this.settings.classNames.panelInner.substr(1)),this.panel=this.node.appendChild(e),this},initButtons:function(){var t=this,e='<button class="'+this.settings.classNames.closeButton.substr(1)+'" aria-label="close">\n\t\t\t\t\t\t\t\t<svg fill="#000000" height="30" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t\t\t<path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>\n\t\t\t\t\t\t\t\t\t<path d="M0 0h24v24H0z" fill="none"/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t \t\t<button class="'+this.settings.classNames.previousButton.substr(1)+'" aria-label="previous">\n\t\t\t\t\t\t\t\t <svg fill="#000000" height="36" viewBox="0 0 24 24" width="36" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t\t\t\t<path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>\n\t\t\t\t\t\t\t\t\t\t<path d="M0 0h24v24H0z" fill="none"/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t \t\t<button class="'+this.settings.classNames.nextButton.substr(1)+'" aria-label="next">\n\t\t\t\t\t\t\t\t\t<svg fill="#000000" height="36" viewBox="0 0 24 24" width="36" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t\t\t\t<path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>\n\t\t\t\t\t\t\t\t\t\t<path d="M0 0h24v24H0z" fill="none"/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t </button>';this.panel.innerHTML=""+this.panel.innerHTML+e,h.EVENTS.forEach(function(e){t.panel.querySelector(t.settings.classNames.closeButton).addEventListener(e,function(e){e.keyCode&&!~h.KEYCODES.indexOf(e.keyCode)||t.close.call(t)}),t.panel.querySelector(t.settings.classNames.previousButton).addEventListener(e,function(e){e.keyCode&&!~h.KEYCODES.indexOf(e.keyCode)||t.throttledPrevious.call(t)}),t.panel.querySelector(t.settings.classNames.nextButton).addEventListener(e,function(e){e.keyCode&&!~h.KEYCODES.indexOf(e.keyCode)||t.throttledNext.call(t)})})},initItems:function(){var t=this,e=[].slice.call(this.node.querySelectorAll(this.settings.classNames.item));if(0===e.length)throw new Error(h.ERRORS.ITEM);this.items=e.map(function(e){return{node:e,content:e.querySelector(t.settings.classNames.content),trigger:e.querySelector(t.settings.classNames.trigger)}})},change:function(t){var e=this;return this.openIndex===!1?this.open(t):this.openIndex===t?this.close():void(this.items[this.openIndex].node.offsetTop===this.items[t].node.offsetTop?this.close(function(){return e.open(t,e.panel.offsetHeight)},this.panel.offsetHeight):this.close(function(){return e.open(t)}))},open:function(t,e,n){var i=this;this.panelSourceContainer=this.items[t].content,this.openIndex=t,this.setPanelTop(),this.panelContent=this.panelSourceContainer.firstElementChild.cloneNode(!0),this.panelInner.appendChild(this.panelContent),this.panelSourceContainer.removeChild(this.panelSourceContainer.firstElementChild),this.panel.insertBefore(this.panelInner,this.panel.firstElementChild);var o=0,s=e||0,r=this.panelInner.offsetHeight-s,a=this.closedHeight+s,c=r,f=n||16,h=function e(){o++,i.panel.style.height=(0,d.default)(o,s,r,f)+"px",i.resizeRow(i.items[i.openIndex].node,(0,d.default)(o,a,c,f)+"px"),o<f?window.requestAnimationFrame(e.bind(i)):(i.panel.style.height="auto",i.items[t].node.parentNode.insertBefore(i.panel,i.items[t].node.nextElementSibling),(0,u.default)(i.panel,function(){return{l:0,t:0,b:(window.innerHeight||document.documentElement.clientHeight)-i.panel.offsetHeight,r:window.innerWidth||document.documentElement.clientWidth}})||(0,l.default)(i.panel.offsetTop-120))};return this.node.classList.add(this.settings.classNames.open.substr(1)),this.panel.removeAttribute("aria-hidden"),this.items[t].trigger.setAttribute("aria-expanded",!0),h.call(this),this},close:function(t,e,n){var i=this,o=e||0,s=0,r=this.panel.offsetHeight,l=o-r,a=this.items[this.openIndex].node.offsetHeight,u=l,c=n||16,f=function e(){s++,i.panel.style.height=(0,d.default)(s,r,l,c)+"px",i.resizeRow(i.items[i.openIndex].node,(0,d.default)(s,a,u,c)+"px"),s<c?window.requestAnimationFrame(e.bind(i)):(o||(i.panel.style.height="auto"),i.panelInner.removeChild(i.panelContent),i.panelSourceContainer.appendChild(i.panelContent),i.node.classList.remove("js-is-animating"),i.node.classList.remove("js-wall--on"),i.openIndex=!1,"function"==typeof t&&t())};this.panel.setAttribute("aria-hidden",!0),this.items[this.openIndex].trigger.setAttribute("aria-hidden",!1),this.node.classList.add("js-is-animating"),f.call(this)},previous:function(){return this.change(this.openIndex-1<0?this.items.length-1:this.openIndex-1)},next:function(){return this.change(this.openIndex+1===this.items.length?0:this.openIndex+1)},equalHeight:function(t){var e=this,n=0,i=0;this.items.map(function(t,o){return t.node.style.height="auto",e.openIndex!==!1&&t.node.offsetTop===e.items[e.openIndex].node.offsetTop?e.openIndex===o&&(n=t.node.offsetHeight+e.panel.offsetHeight):t.node.offsetHeight>i&&(i=t.node.offsetHeight),t}).map(function(t,n){e.openIndex!==n&&(t.node.style.height=i+"px")}),this.openHeight=n,this.closedHeight=0===i?this.closedHeight:i,this.openHeight>0&&(this.resizeRow(this.items[this.openIndex].node,this.openHeight+"px"),"function"==typeof t&&t())},resizeRow:function(t,e){return this.items.forEach(function(n){n.node.offsetTop===t.offsetTop&&(n.node.style.height=e)}),this},setPanelTop:function(){this.panel.style.top=this.items[this.openIndex].node.offsetTop+this.items[this.openIndex].trigger.offsetHeight+"px"}},g=function(t,e){var n=[].slice.call(document.querySelectorAll(t));if(0===n.length)throw new Error(h.ERRORS.ROOT);return n.map(function(t){return Object.assign(Object.create(p),{node:t,settings:Object.assign({},f,e)}).init()})};n.default={init:g}},{"./libs/easeInOutQuad":14,"./libs/inView":15,"./libs/scrollTo":16,"lodash/throttle":12}]},{},[17]);